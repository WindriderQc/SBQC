server:   ssh yb@104.129.129.22



https://myaccount.google.com/lesssecureapps

Must be on to allow using the gmail api from unsecure app.    should get back to https or remember to activate this.








nmap -sV -p 22 192.168.0.1-255


curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -
sudo apt-get install -y nodejs
node -v










sudo apt-get install motion

sudo nano /etc/motion/motion.conf

Find the following lines and make the following changes.  (Ctrl+W is search in nano)

daemon off -> daemon on (this will run allow the program to run as a service)
stream_localhost on -> stream_localhost off 

Now we need to enable the motion daemon by editing the motion file:
sudo nano /etc/default/motion
Make the following change:
start_motion_daemon=no -> start_motion_daemon=yes

Next we need to make sure the motion capture directory is writable

sudo chmod 777 /var/lib/motion

Now make sure the camera is connected and start the service with the command:

sudo service motion start




ls ~/.ssh
ssh-keygen -t rsa -b 4096 -C "yanikbeaulieu@hotmail.com"
sudo apt install xclip
xclip -sel clip < ~/.ssh/id_rsa.pub

log to github and paste ssh key in settings






find . -type f -iname \*.avi -delete

rm -r /path/to/dir/*




df          // list all disk n space


sudo systemctl enable ssh


sudo nano /etc/samba/samba.conf
sudo service smbd restart



/* install node.js v12 */

curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -
sudo apt install nodejs




chrome://flags/#unsafely-treat-insecure-origin-as-secure





ps -ef | grep node       //  list all node process running






The line below is used to turn off the power LED
sudo sh -c 'echo 0 > /sys/class/leds/led1/brightness'

The line below is used to turn off the action LED
sudo sh -c 'echo 0 > /sys/class/leds/led0/brightness'


add to /boot/config.txt
# Disable Ethernet LEDs
dtparam=eth_led0=14
dtparam=eth_led1=14

# Disable the PWR LED
dtparam=pwr_led_trigger=none
dtparam=pwr_led_activelow=off

# Disable the Activity LED
dtparam=act_led_trigger=none
dtparam=act_led_activelow=off





cd c:\ABC
git init .
git config --global user.name <yourGitHubAccount>
git config --global user.email <yourGitHubEmailAccount>
git add .

git status
# edit .gitignore to ignore folder you don't want

git commit -m "first commit"
git remote add origin https://github.com/<yourGitHubAccount>/<yourRepo.git>
git push -u origin master




// Generate random key
node
require('crypto').randomBytes(64).toString('hex')








// initial linux server setup
adduser sammy
usermod -aG sudo sammy

exit and login with sammy... :)



 

sudo apt install mosquitto
mosquitto -d
yb@flyinghq:~$ mosquitto_sub -t "test"
mosquitto_pub -m "message from mosquitto_pub client" -t "test"

edit /etc/mosquitto/mosquitto.conf   
ex:
      pid_file /var/run/mosquitto.pid

      allow_anonymous false
      password_file /etc/mosquitto/passwordfile

      listener 1883

      listener 9001
      protocol websockets

      persistence false

      log_dest file /var/log/mosquitto/mosquitto.log


Create passwordfile and add user:
sudo mosquitto_passwd -c passwordfile user

Add additionnal users:
mosquitto_passwd -b passwordfile user password

Delete users:
mosquitto_passwd -D passwordfile user





chmod +x ./hello.js
pm2 start hello.js







// Setup Platform.io

curl -fsSL https://raw.githubusercontent.com/platformio/platformio-core/master/scripts/99-platformio-udev.rules | sudo tee /etc/udev/rules.d/99-platformio-udev.rules

sudo service udev restart
sudo usermod -a -G tty yb
sudo addgroup yb dialout
sudo addgroup yb tty





//set HDD to automount

sudo fdisk -l
sudo blkid

sudo mkdir /hdd  
sudo mkdir /nomdudisk     // mount point pour le HDD
sudo groupadd hdd
sudo usermod -aG hdd USERNAME 
sudo chown -R :hdd /nomdudisk
sudo nano /etc/fstab

add (avec le bon UUID):
UUID=14D82C19D82BF81E /hdd/nomdudisk    auto nosuid,nodev,nofail,x-gvfs-show 0 0

Pour tester: (ou reboot)
sudo mount -a







Install MongoDB
---------------

Import the public key used by the package management system:
wget -qO - https://www.mongodb.org/static/pgp/server-4.4.asc | sudo apt-key add -

Create the /etc/apt/sources.list.d/mongodb-org-4.4.list file for Ubuntu 20.04 (Focal):
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/4.4 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-4.4.list

Install:
sudo apt-get install -y mongodb-orgzigzag

Start MongoDB:
sudo systemctl start mongod


Download and install MongoDB Compass:
https://downloads.mongodb.com/compass/mongodb-compass_1.24.6_amd64.deb

Link to connect to local DB in Compass:
mongodb://localhost:27017/?readPreference=primary&appname=MongoDB%20Compass&ssl=false