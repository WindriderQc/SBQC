<link rel="stylesheet" href="css/slider.css" />

<div class="sliderContainer">
    <div class="red">Red</div>
    <label for="red" class=" ">
      <input class="slider" id="red" type="range" min="0" max="255" step="1" value="255">
    </label>
  </div>

  <div class="sliderContainer">
    <div class="green" >Green</div>
    <label for="green" class="">
      <input class="slider" id="green" type="range" min="0" max="255" step="1" value="255">
    </label>
  </div>

  <div class="sliderContainer">
    <div class="blue">Blue</div>
    <label for="blue" class=" ">
      <input class="slider" id="blue" type="range" min="0" max="255" step="1" value="255">
    </label> 

    <input hidden id=rgbval_id value="">
  </div>


  
  <p>Value: <span id="rgb"></span></p>
             
  

  <script>
    let sliderR = document.getElementById("red");
    let sliderG = document.getElementById("green");
    let sliderB = document.getElementById("blue");

    let output = document.getElementById("rgb");

    const cssParam = <%- JSON.stringify(cssParam) %>
    const domId = <%- JSON.stringify(domId) %>
    console.log(cssParam, domId)  
   // let brightness = {r: 0, g: 0, b: 0};   // useless - code reminder

    function updateOutput() {
        let value = sliderR.value + ',' + sliderG.value +',' + sliderB.value
        output.innerHTML = value
        document.getElementById('rgbval_id').value = value

        if(cssParam == "background-color")  
            document.getElementById(domId).style.backgroundColor =  `rgb(${sliderR.value }, ${sliderG.value}, ${sliderB.value})`;
   
    }
    updateOutput()
    
    sliderR.oninput = updateOutput
    sliderG.oninput = updateOutput
    sliderB.oninput = updateOutput
  </script>